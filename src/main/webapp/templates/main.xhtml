<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	
<head jsf:id="head">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>MDS - <ui:insert name="title"></ui:insert></title>
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
	
	<link href="#{requestContext.contextPath}/resources/css/material.min.css" rel="stylesheet" />
	<link href="#{requestContext.contextPath}/resources/css/material-modal.min.css" rel="stylesheet" />
	<link href="#{requestContext.contextPath}/resources/css/mdl-selectfield.min.css" rel="stylesheet" />
	<link href="#{requestContext.contextPath}/resources/css/loader.css" rel="stylesheet" />
	<link href="#{requestContext.contextPath}/resources/css/app.css" rel="stylesheet" />
</head>
<body jsf:id="body">
	<div id="loader-wrapper">
	    <div id="loader"></div>
	 
	    <div class="loader-section section-left"></div>
	    <div class="loader-section section-right"></div>
	 
	</div>

	<div  class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
		<header class="mdl-layout__header">
			<div class="mdl-layout__header-row">
				<span class="mdl-layout-title"><ui:insert name="title" /></span>
				<div class="mdl-layout-spacer"></div>
				<div class="user-section">
					<h:form>
						<h:outputText value="#{userSession.user.fullName}" />
						<button id="userdropdown" jsf:rendered="true"
							class="mdl-button mdl-js-button mdl-button--icon">
							<i class="material-icons">more_vert</i>
							<f:ajax />
						</button>
	
						<ul 
							class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
							for="userdropdown">
							<li class="mdl-menu__item"><h:commandLink
									value="Change Password">
								</h:commandLink></li>
							<li class="mdl-menu__item">
								<h:commandLink 
									action="#{userSession.logout()}"
									value="Logout" />
							</li>
						</ul>
					</h:form>
				</div>
			</div>
		</header>
		<div class="mdl-layout__drawer">
			<span class="mdl-layout-title">
				<img class="logo" src="#{requestContext.contextPath}/resources/img/logo.png" />
			</span>
			<nav class="mdl-navigation">
				<form jsf:id="navForm">
				<a class="mdl-navigation__link" href="" jsf:action="/transaction/list.xhtml?faces-redirect=true">Transactions</a>
				<a class="mdl-navigation__link" href="" jsf:action="/customer/list.xhtml?faces-redirect=true">Customers</a>    
				<div class="mdl-collapse">
			        <a class="mdl-navigation__link mdl-collapse__button">
			          <i class="material-icons mdl-collapse__icon mdl-animation--default">expand_more</i>
			          Master Data
			        </a>
			        <div class="mdl-collapse__content-wrapper">
			          <div class="mdl-collapse__content mdl-animation--default">
			          	<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/distributor/list.xhtml?faces-redirect=true">Distributors</a>
			            <a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/product/list.xhtml?faces-redirect=true">Products</a> 
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/product/mapping/list.xhtml?faces-redirect=true">Product Mapping</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/category/list.xhtml?faces-redirect=true">Categories</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/brand/list.xhtml?faces-redirect=true">Brands</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/division/list.xhtml?faces-redirect=true">Divisions</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/segment/list.xhtml?faces-redirect=true">Segments</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/store-type/list.xhtml?faces-redirect=true">Store Types</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/transaction-type/list.xhtml?faces-redirect=true">Transaction Type</a>
						<a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/operation-type/list.xhtml?faces-redirect=true">Operation Type</a>
			          </div>
			        </div>
			      </div>
			      <a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/template/list.xhtml?faces-redirect=true">Templates</a>
				  <a jsf:rendered="#{!userSession.isDistributorAccount()}" class="mdl-navigation__link" href="" jsf:action="/user/list.xhtml?faces-redirect=true">Users</a>
				</form>
			</nav>
		</div>
		<main class="mdl-layout__content">
			<div class="page-content">
				<ui:insert name="pageContent"></ui:insert>
			</div>
		</main>
	</div>
	
	
	<script src="#{requestContext.contextPath}/resources/js/jquery-2.1.4.min.js"/>
	<script src="#{requestContext.contextPath}/resources/js/material.min.js"/>
	<script src="#{requestContext.contextPath}/resources/js/material-modal.min.js"/>
	<script src="#{requestContext.contextPath}/resources/js/mdl-selectfield.min.js"/>
	<script src="#{requestContext.contextPath}/resources/js/app.js"/>
	
	<ui:insert name="js"/>
	
	<script>
	$(document).ready(function() {
		 
	    setTimeout(function(){
	        $('body').addClass('loaded');
	    }, 100);
	 
	});
	</script>
</body>
</html>
